-- *************************** SqlDBM: PostgreSQL ***************************
-- * Generated by SqlDBM: Private sewing production by petrushina@bregis.ru *


-- ************************************** warehouse.material
CREATE TABLE warehouse.material
(
 "id"                    serial NOT NULL,
 code                    varchar(24) NOT NULL,
 name                    varchar(255) NOT NULL,
 material_category_id    int NOT NULL,
 material_type_id        int NOT NULL,
 material_color_id       int NOT NULL,
 country_manufacturer_id int NOT NULL,
 unit_id                 int NOT NULL,
 specification           varchar(255) NULL,
 note                    varchar(2000) NULL,
 create_by               int4 NOT NULL,
 create_date             timestamp NOT NULL,
 active                  bool NOT NULL,
 CONSTRAINT PK_2 PRIMARY KEY ( "id" ),
 CONSTRAINT FK_37_2 FOREIGN KEY ( material_category_id ) REFERENCES main.lu ( "id" ),
 CONSTRAINT FK_37_3 FOREIGN KEY ( country_manufacturer_id ) REFERENCES main.lu ( "id" ),
 CONSTRAINT FK_42_2 FOREIGN KEY ( material_color_id ) REFERENCES main.lu ( "id" ),
 CONSTRAINT FK_44 FOREIGN KEY ( unit_id ) REFERENCES main.lu ( "id" ),
 CONSTRAINT FK_51 FOREIGN KEY ( material_type_id ) REFERENCES main.lu ( "id" )
);

CREATE INDEX FK_3 ON warehouse.material
(
 material_category_id
);

CREATE INDEX FK_3_1 ON warehouse.material
(
 country_manufacturer_id
);

CREATE INDEX FK_4_1 ON warehouse.material
(
 material_color_id
);

CREATE INDEX FK_5 ON warehouse.material
(
 unit_id
);

CREATE INDEX FK_6 ON warehouse.material
(
 material_type_id
);

COMMENT ON TABLE warehouse.material IS 'Материалы';

COMMENT ON COLUMN warehouse.material.material_category_id IS 'Категория материала (ткань, фурнитура и т п)
(lu.id, tag=7)';
COMMENT ON COLUMN warehouse.material.material_type_id IS 'Тип материала (футер, хлопок и т п)
(lu.id, tag=8)';
COMMENT ON COLUMN warehouse.material.material_color_id IS 'Цвет материала
(lu.id, tag=2)';
COMMENT ON COLUMN warehouse.material.country_manufacturer_id IS 'Страна-производитель
(lu.id, tag=11)';
COMMENT ON COLUMN warehouse.material.unit_id IS 'Ед. измерения
(lu.id, tag=3)';
COMMENT ON COLUMN warehouse.material.specification IS 'Характеристики';


