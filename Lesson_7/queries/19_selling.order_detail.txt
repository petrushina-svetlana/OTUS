-- *************************** SqlDBM: PostgreSQL ***************************
-- * Generated by SqlDBM: Private sewing production by petrushina@bregis.ru *


-- ************************************** selling.order_detail
CREATE TABLE selling.order_detail
(
 "id"                serial NOT NULL,
 order_info_id       int NOT NULL,
 product_for_sale_id int NOT NULL,
 price_for_sale_id   int NOT NULL,
 amount              int4 NOT NULL,
 CONSTRAINT PK_24 PRIMARY KEY ( "id" ),
 CONSTRAINT FK_42_1 FOREIGN KEY ( product_for_sale_id ) REFERENCES prod_warehouse.product_for_sale ( "id" ),
 CONSTRAINT FK_32 FOREIGN KEY ( order_info_id ) REFERENCES selling.order_info ( "id" ),
 CONSTRAINT FK_46_2 FOREIGN KEY ( price_for_sale_id ) REFERENCES selling.price_for_sale ( "id" )
);

CREATE INDEX FK_2 ON selling.order_detail
(
 product_for_sale_id
);

CREATE INDEX FK_3 ON selling.order_detail
(
 order_info_id
);

CREATE INDEX FK_3_1 ON selling.order_detail
(
 price_for_sale_id
);

COMMENT ON TABLE selling.order_detail IS 'Заказ (изделия)';

COMMENT ON COLUMN selling.order_detail.order_info_id IS 'Заказ (общая информация)';
COMMENT ON COLUMN selling.order_detail.product_for_sale_id IS 'Изделие на продажу';
COMMENT ON COLUMN selling.order_detail.price_for_sale_id IS 'Цена по прайсу';
COMMENT ON COLUMN selling.order_detail.amount IS 'Кол-во';


