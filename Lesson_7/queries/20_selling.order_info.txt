-- *************************** SqlDBM: PostgreSQL ***************************
-- * Generated by SqlDBM: Private sewing production by petrushina@bregis.ru *


-- ************************************** selling.order_info
CREATE TABLE selling.order_info
(
 "id"               serial NOT NULL,
 online_platform_id int NOT NULL,
 customer_id        int NULL,
 status             varchar(1) NOT NULL,
 ok_status          int2 NOT NULL,
 ok_by              int4 NOT NULL,
 ok_date            timestamp NOT NULL,
 send_status        int2 NOT NULL,
 send_by            int4 NOT NULL,
 send_date          timestamp NOT NULL,
 finish_status      int2 NOT NULL,
 finish_by          int4 NOT NULL,
 finish_date        timestamp NOT NULL,
 cancel_status      int2 NOT NULL,
 cancel_by          int4 NOT NULL,
 cancel_date        timestamp NOT NULL,
 create_by          int4 NOT NULL,
 create_date        timestamp NOT NULL,
 CONSTRAINT PK_23 PRIMARY KEY ( "id" ),
 CONSTRAINT FK_26 FOREIGN KEY ( online_platform_id ) REFERENCES selling.online_platform ( "id" ),
 CONSTRAINT FK_27 FOREIGN KEY ( customer_id ) REFERENCES selling.customer ( "id" )
);

CREATE INDEX FK_2 ON selling.order_info
(
 online_platform_id
);

CREATE INDEX FK_3 ON selling.order_info
(
 customer_id
);

COMMENT ON TABLE selling.order_info IS 'Заказ (общая информация)';

COMMENT ON COLUMN selling.order_info.online_platform_id IS 'Онлайн платформа';
COMMENT ON COLUMN selling.order_info.customer_id IS 'Заказчик';
COMMENT ON COLUMN selling.order_info.status IS 'Статус заказа:
N [new] - новый, готов к работе
R [ready] - готов, собран
S [sent] - отправлен
F [finished] - завершен 
X - отменен';
COMMENT ON COLUMN selling.order_info.ok_status IS 'Заказ готов (собран): 0-нет, 1-да';
COMMENT ON COLUMN selling.order_info.send_status IS 'Заказ отправлен: 0-нет, 1-да';
COMMENT ON COLUMN selling.order_info.finish_status IS 'Заказ завершен: 0-нет, 1-да';
COMMENT ON COLUMN selling.order_info.cancel_status IS 'Заказ отменен: 0-нет, 1-да';


