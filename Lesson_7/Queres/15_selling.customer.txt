-- *************************** SqlDBM: PostgreSQL ***************************
-- * Generated by SqlDBM: Private sewing production by petrushina@bregis.ru *


-- ************************************** selling.customer
CREATE TABLE selling.customer
(
 "id"        serial NOT NULL,
 num         int8 NOT NULL,
 name        varchar(255) NOT NULL,
 category_id int NOT NULL,
 country_id  int NOT NULL,
 city        varchar(255) NOT NULL,
 address     varchar(2000) NOT NULL,
 note        varchar(2000) NULL,
 create_by   int4 NOT NULL,
 create_date timestamp NOT NULL,
 CONSTRAINT PK_8 PRIMARY KEY ( "id" ),
 CONSTRAINT FK_37_5 FOREIGN KEY ( category_id ) REFERENCES main.lu ( "id" ),
 CONSTRAINT FK_37_4 FOREIGN KEY ( country_id ) REFERENCES main.lu ( "id" )
);

CREATE INDEX FK_3 ON selling.customer
(
 category_id
);

CREATE INDEX FK_3_1 ON selling.customer
(
 country_id
);

COMMENT ON TABLE selling.customer IS 'Заказчик';

COMMENT ON COLUMN selling.customer.num IS 'Порядковый номер';
COMMENT ON COLUMN selling.customer.category_id IS 'Категория заказчика
(lu.id, tag=13)';
COMMENT ON COLUMN selling.customer.country_id IS 'Страна заказчика
(lu.id, tag=12)';
COMMENT ON COLUMN selling.customer.city IS 'Город заказчика';
COMMENT ON COLUMN selling.customer.address IS 'Адрес доставки';


