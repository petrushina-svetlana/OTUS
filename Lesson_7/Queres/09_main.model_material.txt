-- *************************** SqlDBM: PostgreSQL ***************************
-- * Generated by SqlDBM: Private sewing production by petrushina@bregis.ru *


-- ************************************** main.model_material
CREATE TABLE main.model_material
(
 "id"             serial NOT NULL,
 model_color_id   int NOT NULL,
 model_content_id int NOT NULL,
 material_id      int NOT NULL,
 create_by        int4 NOT NULL,
 create_date      timestamp NOT NULL,
 CONSTRAINT PK_22 PRIMARY KEY ( "id" ),
 CONSTRAINT FK_41 FOREIGN KEY ( model_content_id ) REFERENCES main.model_content ( "id" ),
 CONSTRAINT FK_42 FOREIGN KEY ( material_id ) REFERENCES warehouse.material ( "id" ),
 CONSTRAINT FK_40_3 FOREIGN KEY ( model_color_id ) REFERENCES main.model_color ( "id" )
);

CREATE INDEX FK_2 ON main.model_material
(
 model_content_id
);

CREATE INDEX FK_3 ON main.model_material
(
 material_id
);

CREATE INDEX FK_5 ON main.model_material
(
 model_color_id
);

COMMENT ON TABLE main.model_material IS 'Материалы для изготовления модели определенного цвета';

COMMENT ON COLUMN main.model_material.model_color_id IS 'Модель по цветам';
COMMENT ON COLUMN main.model_material.model_content_id IS 'Составные части модели';
COMMENT ON COLUMN main.model_material.material_id IS 'Материал';


