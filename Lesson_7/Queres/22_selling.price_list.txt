-- *************************** SqlDBM: PostgreSQL ***************************
-- * Generated by SqlDBM: Private sewing production by petrushina@bregis.ru *


-- ************************************** selling.price_list
CREATE TABLE selling.price_list
(
 "id"               serial NOT NULL,
 model_id           int NOT NULL,
 mid_material_price varchar(24) NOT NULL,
 extra_price        varchar(24) NOT NULL,
 retail_price       varchar(24) NOT NULL,
 begin_date         timestamp NOT NULL,
 end_date           timestamp NULL,
 create_by          int4 NOT NULL,
 create_date        timestamp NOT NULL,
 active             bool NOT NULL,
 CONSTRAINT PK_21 PRIMARY KEY ( "id" ),
 CONSTRAINT FK_43 FOREIGN KEY ( model_id ) REFERENCES main.model ( "id" )
);

CREATE INDEX FK_1 ON selling.price_list
(
 model_id
);

COMMENT ON TABLE selling.price_list IS 'Прайс лист';

COMMENT ON COLUMN selling.price_list.model_id IS 'Модель';
COMMENT ON COLUMN selling.price_list.mid_material_price IS 'Усредненная стоимость материалов, рассчитанная из стоимость материалов (material_price) для каждого изделия (product)';
COMMENT ON COLUMN selling.price_list.extra_price IS 'Надбавка (из учета трудозатрат на изготовление изделия, доп. затрат и цен на рынке)';
COMMENT ON COLUMN selling.price_list.retail_price IS 'Расчетная розничная цена (стоимость материалов + надбавка)';
COMMENT ON COLUMN selling.price_list.begin_date IS 'Дата начала действия';
COMMENT ON COLUMN selling.price_list.end_date IS 'Дата окончания действия';


