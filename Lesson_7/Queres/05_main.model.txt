-- *************************** SqlDBM: PostgreSQL ***************************
-- * Generated by SqlDBM: Private sewing production by petrushina@bregis.ru *


-- ************************************** main.model
CREATE TABLE main.model
(
 "id"          serial NOT NULL,
 code          varchar(24) NOT NULL,
 name          varchar(255) NOT NULL,
 design_id     int NOT NULL,
 group_id      int NOT NULL,
 collection_id int NOT NULL,
 season_id     int NOT NULL,
 model_img     varchar(255) NULL,
 create_by     int4 NOT NULL,
 create_date   timestamp NOT NULL,
 active        bool NOT NULL,
 CONSTRAINT PK_11 PRIMARY KEY ( "id" ),
 CONSTRAINT FK_35 FOREIGN KEY ( design_id ) REFERENCES main.design ( "id" ),
 CONSTRAINT FK_36 FOREIGN KEY ( group_id ) REFERENCES main.lu ( "id" ),
 CONSTRAINT FK_37 FOREIGN KEY ( collection_id ) REFERENCES main.lu ( "id" ),
 CONSTRAINT FK_38 FOREIGN KEY ( season_id ) REFERENCES main.lu ( "id" )
);

CREATE INDEX FK_3 ON main.model
(
 design_id
);

CREATE INDEX FK_4 ON main.model
(
 group_id
);

CREATE INDEX FK_5 ON main.model
(
 collection_id
);

CREATE INDEX FK_6 ON main.model
(
 season_id
);

COMMENT ON TABLE main.model IS 'Модель';

COMMENT ON COLUMN main.model.design_id IS 'Выкройка';
COMMENT ON COLUMN main.model.group_id IS 'Группа (произвольное обединение)
(lu.id, tag=6)';
COMMENT ON COLUMN main.model.collection_id IS 'Коллекция
(lu.id, tag=9)';
COMMENT ON COLUMN main.model.season_id IS 'Сезон
(lu.id, tag=10)';
COMMENT ON COLUMN main.model.model_img IS 'Путь к файлу модели';


